<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«æ·åŠŸèƒ½å¸ƒå±€æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        
        .test-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .test-header {
            padding: 16px;
            background: #4A90E2;
            color: white;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
        }
        
        .quick-actions {
            padding: 20px;
        }
        
        .actions-title {
            margin: 0 0 16px 0;
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        
        .actions-row {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }
        
        .action-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #333;
            flex: 1;
        }
        
        .action-circle {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .action-label {
            font-size: 12px;
            text-align: center;
            line-height: 1.2;
        }
        
        .booking { background: linear-gradient(135deg, #FF6B6B, #FF8E53); }
        .activity { background: linear-gradient(135deg, #4ECDC4, #44A08D); }
        .event { background: linear-gradient(135deg, #45B7D1, #96C93D); }
        .preference { background: linear-gradient(135deg, #F7DC6F, #F39C12); }
        .youth { background: linear-gradient(135deg, #BB6BD9, #C44569); }
        .more { background: linear-gradient(135deg, #E0E0E0, #BDBDBD); border: 2px dashed #999; }
        
        .divider {
            height: 1px;
            background: #f0f0f0;
            margin: 16px 0;
        }
        
        .status-info {
            background: #e6f7ff;
            border: 1px solid #91d5ff;
            border-radius: 8px;
            padding: 12px;
            margin: 16px 20px;
            font-size: 14px;
        }
        
        .requirement {
            background: #fff7e6;
            border: 1px solid #ffd591;
            border-radius: 8px;
            padding: 12px;
            margin: 16px 20px;
            font-size: 13px;
            line-height: 1.6;
        }
        
        .requirement h4 {
            margin: 0 0 8px 0;
            color: #d46b08;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            ğŸš€ å¿«æ·åŠŸèƒ½å¸ƒå±€æµ‹è¯•
        </div>
        
        <div class="requirement">
            <h4>ğŸ“‹ éœ€æ±‚è§„æ ¼</h4>
            <p><strong>å¸ƒå±€è§„åˆ™ï¼š</strong></p>
            <ul style="margin: 8px 0; padding-left: 20px;">
                <li>æ¯è¡Œæ˜¾ç¤º5ä¸ªåŠŸèƒ½</li>
                <li>æœ€å¤šæ˜¾ç¤º2è¡Œï¼ˆå…±10ä¸ªï¼‰</li>
                <li>è¶…è¿‡10ä¸ªæ—¶ï¼Œç¬¬10ä¸ªä½ç½®æ˜¾ç¤º"æ›´å¤šæœåŠ¡"</li>
                <li>æ•°æ®å®Œå…¨ä»åå°è·å–ï¼Œæ”¯æŒæ’åº</li>
            </ul>
        </div>
        
        <div class="quick-actions">
            <h3 class="actions-title">å¿«æ·åŠŸèƒ½</h3>
            
            <!-- ç¬¬ä¸€è¡Œï¼š1-5 -->
            <div class="actions-row" id="row1">
                <!-- å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
            </div>
            
            <div class="divider"></div>
            
            <!-- ç¬¬äºŒè¡Œï¼š6-10 -->
            <div class="actions-row" id="row2">
                <!-- å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
            </div>
        </div>
        
        <div class="status-info" id="status">
            <strong>çŠ¶æ€ï¼š</strong> æ­£åœ¨åŠ è½½æ•°æ®...
        </div>
    </div>

    <script>
        async function loadQuickActions() {
            const status = document.getElementById('status');
            const row1 = document.getElementById('row1');
            const row2 = document.getElementById('row2');
            
            try {
                status.innerHTML = '<strong>çŠ¶æ€ï¼š</strong> æ­£åœ¨è·å–åç«¯æ•°æ®...';
                
                const response = await fetch('http://localhost:3000/home/quick-actions');
                const data = await response.json();
                
                if (data.success && data.data) {
                    const actions = data.data;
                    
                    // æ¸…ç©ºå®¹å™¨
                    row1.innerHTML = '';
                    row2.innerHTML = '';
                    
                    // ç¬¬ä¸€è¡Œï¼šæ˜¾ç¤ºå‰5ä¸ª
                    for (let i = 0; i < Math.min(5, actions.length); i++) {
                        const action = actions[i];
                        row1.appendChild(createActionElement(action));
                    }
                    
                    // ç¬¬äºŒè¡Œï¼šæ˜¾ç¤º6-10ä¸ª
                    if (actions.length > 5) {
                        for (let i = 5; i < Math.min(9, actions.length); i++) {
                            const action = actions[i];
                            row2.appendChild(createActionElement(action));
                        }
                        
                        // ç¬¬10ä¸ªä½ç½®çš„é€»è¾‘
                        if (actions.length >= 10) {
                            if (actions.length === 10) {
                                // æ­£å¥½10ä¸ªï¼Œæ˜¾ç¤ºç¬¬10ä¸ªåŠŸèƒ½
                                row2.appendChild(createActionElement(actions[9]));
                            } else {
                                // è¶…è¿‡10ä¸ªï¼Œæ˜¾ç¤ºæ›´å¤šæœåŠ¡
                                row2.appendChild(createMoreElement(actions.length - 9));
                            }
                        }
                    }
                    
                    status.innerHTML = `<strong>âœ… å¸ƒå±€æµ‹è¯•å®Œæˆï¼š</strong> 
                        å…±${actions.length}ä¸ªåŠŸèƒ½ï¼Œç¬¬ä¸€è¡Œ${Math.min(5, actions.length)}ä¸ªï¼Œ
                        ç¬¬äºŒè¡Œ${Math.max(0, Math.min(5, actions.length - 5))}ä¸ª${actions.length > 10 ? 'ï¼ˆå«æ›´å¤šæœåŠ¡ï¼‰' : ''}`;
                } else {
                    throw new Error('APIè¿”å›æ•°æ®æ ¼å¼é”™è¯¯');
                }
            } catch (error) {
                status.innerHTML = `<strong>âŒ åŠ è½½å¤±è´¥ï¼š</strong> ${error.message}`;
                console.error('Error:', error);
            }
        }
        
        function createActionElement(action) {
            const item = document.createElement('a');
            item.className = 'action-item';
            item.href = action.redirectUrl;
            
            const circle = document.createElement('div');
            circle.className = `action-circle ${action.type}`;
            circle.textContent = action.icon;
            
            const label = document.createElement('div');
            label.className = 'action-label';
            label.textContent = action.title;
            
            item.appendChild(circle);
            item.appendChild(label);
            
            return item;
        }
        
        function createMoreElement(hiddenCount) {
            const item = document.createElement('a');
            item.className = 'action-item';
            item.href = '/more-services';
            
            const circle = document.createElement('div');
            circle.className = 'action-circle more';
            circle.innerHTML = 'â‹¯';
            
            const label = document.createElement('div');
            label.className = 'action-label';
            label.textContent = 'æ›´å¤šæœåŠ¡';
            
            item.appendChild(circle);
            item.appendChild(label);
            
            return item;
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è·å–æ•°æ®
        window.onload = function() {
            loadQuickActions();
        };
    </script>
</body>
</html> 